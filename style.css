:root{
  --bg:#041421; --panel:#072533; --muted:#9fb6cd; --accent:#39d1ff; --good:#2dd36f; --danger:#ef4444;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,Arial;background:var(--bg);color:#e6f8ff;overflow:hidden}

/* Header */
header{display:flex;justify-content:space-between;align-items:center;padding:10px;background:linear-gradient(90deg,#021520,#04303a);box-shadow:0 4px 15px rgba(0,0,0,.4)}
.left{display:flex;gap:10px;align-items:center}
h1{margin:0;font-size:18px}
.hint{color:var(--muted);font-size:13px}

/* Buttons */
.btn{background:#0b3b52;color:#e6f8ff;border:0;border-radius:8px;padding:8px 10px;cursor:pointer;font-weight:600}
.btn.warn{background:var(--danger)}
.btn.ghost{background:transparent;border:1px solid rgba(255,255,255,.06)}

/* Toolbar wrapper */
#toolbarWrap{position:fixed;left:0;right:0;bottom:0;z-index:60;display:flex;justify-content:center;pointer-events:none}
#toolbar{width:100%;max-width:1100px;background:linear-gradient(180deg,#052a36,#01303a);border-top-left-radius:12px;border-top-right-radius:12px;padding:10px;transform:translateY(110%);transition:transform .28s;pointer-events:auto}
#toolbar.open{transform:translateY(0)}
#toolbarHeader{display:flex;align-items:center;gap:8px;margin-bottom:8px}
#toolbarHeader input,#toolbarHeader select{background:#021f26;color:#dff7ff;border:0;border-radius:8px;padding:6px}

/* Element grid */
#elementGrid{display:flex;gap:8px;overflow:auto;padding:6px}
.elem{min-width:56px;height:56px;border-radius:10px;background:linear-gradient(180deg,#063b4c,#024a5d);display:flex;align-items:center;justify-content:center;font-size:22px;color:#eaffff;cursor:pointer;user-select:none;flex:0 0 auto;box-shadow:0 6px 18px rgba(0,0,0,.5)}
.elem.locked{opacity:.28;filter:grayscale(.4);cursor:not-allowed}

/* Board */
main{display:flex;height:calc(100vh - 64px)}
#board{flex:1;position:relative;z-index:10;overflow:hidden;background:
  radial-gradient(ellipse at center, rgba(255,255,255,0.02) 0%, rgba(0,0,0,0) 40%),
  linear-gradient(180deg, rgba(255,255,255,0.01), rgba(0,0,0,0.06))}
.node{position:absolute;width:72px;height:72px;border-radius:14px;display:flex;align-items:center;justify-content:center;font-size:28px;background:linear-gradient(180deg,#1f90ff,#1766c7);color:#fff;font-weight:800;box-shadow:0 12px 30px rgba(0,0,0,.6);touch-action:none;user-select:none;cursor:grab}
.node.compound{background:linear-gradient(180deg,#16a085,#0aa0a0)}

/* Notifications & UI */
#notif{position:fixed;left:50%;top:14px;transform:translateX(-50%);background:rgba(0,0,0,.6);padding:8px 12px;border-radius:10px;display:none;z-index:90}
#achievements{position:fixed;right:12px;top:72px;width:260px;background:rgba(2,30,36,.94);padding:10px;border-radius:10px;box-shadow:0 8px 30px rgba(0,0,0,.6);z-index:70;color:#dff7ff}
.chip{background:#05333f;padding:6px 8px;border-radius:8px;color:#cefbff;margin:4px 4px 0 0;display:inline-block}

/* spark */
.spark{position:absolute;border-radius:50%;width:12px;height:12px;background:radial-gradient(circle,#fff 0%,var(--accent) 30%,rgba(57,209,255,0) 70%);pointer-events:none;transform:translate(-50%,-50%);z-index:200}

/* hint */
#hint{position:fixed;left:12px;bottom:86px;background:rgba(0,0,0,.4);padding:6px 10px;border-radius:8px;color:#dff3ff;font-size:13px;z-index:70}

@media (max-width:520px){
  .elem{min-width:48px;height:48px;font-size:20px}
  .node{width:60px;height:60px;font-size:24px}
  #achievements{display:none}
}